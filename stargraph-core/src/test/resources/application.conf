
# Be aware.
# Used for the IT.
#
# Override via System properties if needed.
# Example: -Dstargraph.elastic.cluster-name=MyCluster.
# This configuration is merged during runtime with reference.conf.
#

stargraph = {
  progress-watcher.log-stats = no

  kb.dbpedia-2016 = {
    triple-store.hdt.use-index = yes
  }

  kb.extend = {
    enabled = yes
    language = EN

    namespaces = {
          lambda3: "http://lambda3.org/",
          people: "http://ppl.org/"
        }

    model.facts = {
      provider.class = net.stargraph.core.FactProviderFactory
    }
    model.entities = {
      provider.class = net.stargraph.core.EntityProviderFactory
    }
    model.properties = {
      provider.class = net.stargraph.core.PropertyProviderFactory
    }
    elastic = ${stargraph.elastic}
    verbose = yes
  }

  kb.mytest = {
    enabled = yes
    language = EN

    model.mytype = {
      provider.class = net.stargraph.test.TestDataProviderFactory
      provider.args.data = [
        {text: "One", failOnIndexer: false, failOnProvider: false},
        {text: "Two", failOnIndexer: false, failOnProvider: false},
        {text: "Three", failOnIndexer: false, failOnProvider: false},
      ]
      elastic = ${stargraph.elastic}
      verbose = yes
    }
  }

  kb.simple = {
    enabled = yes
    language = EN

    triple-store.namespace.mapping = default

    namespaces = {
      dbr: "http://dbpedia.org/resource/"
    }

    model.facts = {
      provider.class = net.stargraph.core.FactProviderFactory

      processors = [
        {
          regex-filter: ${processor.regex-filter}
          regex-filter.s = [
            "^http://dbpedia.org/example/File(.*)$"
          ]

          regex-filter.p = [
            "^foaf:thumbnail$",
            "^dbo:wikiPageID$"
          ]
        },
        {entity-classifier: ${processor.entity-classifier}},
      ]

      elastic = ${stargraph.elastic}
    }

    model.entities = {
      provider.class = net.stargraph.core.EntityProviderFactory
      processors = [
        {
          sink-duplicate: ${processor.sink-duplicate}
        },
      ]
      elastic = ${stargraph.elastic}
    }

  }
}